<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meteor Madness</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <h1>Meteor Madness</h1>
        <nav>
            <ul>
                <li><a href="#" class="active" data-view="earth">Tierra</a></li>
                <li><a href="#" data-view="asteroids">Asteroides</a></li>
                <li><a href="#" data-view="simulation">Simulación de Impacto</a></li>
                <li><a href="#" data-view="mitigation">Mitigación</a></li>
            </ul>
        </nav>
        <div id="language-selector">
            <button id="lang-es" class="active">ES</button>
            <button id="lang-en">EN</button>
        </div>
    </header>

    <main>
        <!-- Vista 1: Tierra Principal (visible por defecto) -->
        <div id="earth-view" class="view active">
            <div id="earth-canvas"></div>
        </div>

<!-- Vista 2: Asteroides -->
<div id="asteroids-view" class="view">
    <div class="asteroids-content-wrapper">
        <!-- Columna Izquierda: Lista de Asteroides -->
        <div class="asteroids-list-column">
            <h2>Asteroides Cercanos a la Tierra</h2>
            <div class="search-container">
                <input type="date" id="search-date">
                <input type="text" id="search-name" placeholder="Buscar por nombre...">
                <input type="number" id="search-diameter" placeholder="Diámetro mínimo (m)...">
                <button id="search-asteroids">Buscar</button>
            </div>
            <!-- El contenedor donde se mostrará la lista o los errores -->
            <div id="asteroids-list">
                <p>Usa los filtros y haz clic en "Buscar" para cargar los asteroides.</p>
            </div>
        </div>
        <!-- Columna Derecha: Crear Asteroide -->
        <div class="create-asteroid-column">
            <div class="create-asteroid">
                <h3>Crear Asteroide Personalizado</h3>
                <form id="create-asteroid-form">
                    <div class="form-group">
                        <label for="asteroid-name">Nombre:</label>
                        <input type="text" id="asteroid-name" required>
                    </div>
                    <div class="form-group">
                        <label for="asteroid-diameter">Diámetro (m):</label>
                        <input type="number" id="asteroid-diameter" required>
                    </div>
                    <div class="form-group">
                        <label for="asteroid-velocity">Velocidad (km/s):</label>
                        <input type="number" id="asteroid-velocity" required>
                    </div>
                    <div class="form-group">
                        <label for="asteroid-risk">Nivel de riesgo:</label>
                        <select id="asteroid-risk" required>
                            <option value="bajo">Bajo</option>
                            <option value="medio">Medio</option>
                            <option value="alto">Alto</option>
                        </select>
                    </div>
                    <button type="submit">Crear</button>
                </form>
            </div>
        </div>
    </div>
</div>

        <!-- Vista 3: Simulación de Impacto -->
<div id="simulation-view" class="view">
    <div class="simulation-container">
        <!-- Columna Izquierda: Controles -->
        <div class="controls-column">
            <h2>Simulación de Impacto</h2>
            
            <div class="control-group">
                <h3>Seleccionar Asteroide</h3> <br/>
                <select id="asteroid-select">
                    <option value="">Selecciona un asteroide...</option>
                </select>
            </div>

           
            <button id="run-simulation" disabled>Ejecutar Simulación</button>
            
            <div id="simulation-results">
                <!-- Los resultados aparecerán aquí -->
            </div>
        </div>
        <div class="controls-column">
             <div class="control-group">
                <h3>Seleccionar Coordenadas</h3> <br/>
                <p>Haz clic en el globo o introduce las coordenadas:</p> <br/>
                <input type="text" id="lat-input" placeholder="Latitud (Ej: 40.71)"> 
                <br/> <br/>
                <input type="text" id="lon-input" placeholder="Longitud (Ej: -74.00)"> 
                                <br/> <br/>
                <button id="set-coords-btn">Usar Coordenadas</button>
            </div>
            
        </div>
        <!-- Columna Derecha: Canvas 3D -->
        <div class="canvas-column">
            <div id="earth-canvas-simulation"></div>
        </div>
    </div>
</div>
        
        <!-- Vista 4: Mitigación -->
        <div id="mitigation-view" class="view">
            <!-- Contenido de mitigación aquí -->
            <h2>Estrategias de Mitigación</h2>
        </div>
    </main>

    <footer>
        <p>&copy; 2023 Meteor Madness - Simulador de Impactos de Asteroides</p>
    </footer>

    <!-- Scripts (Cargados al final) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
    <script src="js/api.js"></script>
    <script src="js/visualization.js"></script>
    <script src="js/impact.js"></script>
    <script src="js/main.js"></script> <!-- main.js al final para que controle todo -->
</body>
</html>